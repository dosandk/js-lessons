<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div id="root">&nbsp;</div>

    <script id="tpl-create-article" type="text/template">
        <div class="main-container">
            <div class="container">
                <h2>Create article</h2>
                <div class="form-container">
                    <form name="create-article" id="create-article" action="javascript:void(0);">
                        <input id="title" name="title" type="text"/>
                        <input type="submit"/>
                        <textarea rows="4" cols="50" id="content" name="content" form="create-article"></textarea>
                    </form>

                </div>
                <div class="articles-container">
                    <h3>Articles list</h3>
                    <ul id="articles-list">

                    </ul>
                </div>
            </div>
        </div>
    </script>

    <script id="template" type="text/template">
        <li>
            <h3>{{ title }}</h3>
            <div>{{ content }}</div>
            <p><a href="#">social sharing</a></p>
        </li>
    </script>

    <script>
        var root = document.getElementById('root');
        var createArticle = document.getElementById('tpl-create-article').innerHTML;

        root.innerHTML = createArticle;

        var form = document.getElementById('create-article');
        var template = document.getElementById('template').innerHTML;

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            var inputTitle = e.target.children.title;
            var inputTitleValue = inputTitle.value;
            var textareaContent = e.target.children.content;
            var textareaContentValue = textareaContent.value;
            var articlesList = document.getElementById('articles-list');

            if (inputTitleValue == "" || textareaContentValue == "") {
                alert("Title or message field must be filled out");
                return false;
            } else {
              articlesList.innerHTML += template.replace('{{ title }}', inputTitleValue).replace('{{ content }}', textareaContentValue);
              inputTitle.value = '';
              textareaContent.value = '';
            };
        });

    </script>
</body>
</html>
