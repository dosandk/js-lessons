<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div id="root">&nbsp;</div>

    <script id="tpl-create-article" type="text/template">
        <div class="main-container">
            <div class="container">
                <h2>Create article</h2>
                <div class="form-container">
                    <form id="create-article" action="javascript:void(0);">
                        <input id="title" name="title" type="text"/>
                        <input type="submit"/>
                        <textarea rows="4" cols="50" id="content" name="content" form="create-article"></textarea>
                    </form>

                </div>
                <div class="articles-container">
                    <h3>Articles list</h3>
                    <ul id="articles-list">

                    </ul>
                </div>
            </div>
        </div>
    </script>

    <script id="template" type="text/template">
        <li>
            <h3>{{ title }}</h3>
            <div>{{ content }}</div>
            <p><a href="#">social sharing</a></p>
        </li>
    </script>

    <script>
        var root = document.getElementById('root');
        var createArticle = document.getElementById('tpl-create-article').innerHTML;

        root.innerHTML = createArticle;

        var form = document.getElementById('create-article');
        var template = document.getElementById('template').innerHTML;


        form.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log (e.target);
            var inputTitle = e.target.children.title;
            console.log('inputTitle', inputTitle);

            var inputTitleValue = inputTitle.value;

            var textareaContent = e.target.children.content.value;
            console.log('textarea', textareaContent);

            var articlesList = document.getElementById('articles-list');

            articlesList.innerHTML += template.replace('{{ title }}', inputTitleValue).replace('{{ content }}', textareaContent);

            inputTitle.value = '';
        });
    </script>
</body>
</html>
